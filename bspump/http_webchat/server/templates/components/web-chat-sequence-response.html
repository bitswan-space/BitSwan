<div id="webchat_sequence_response" class="w-full flex flex-col items-end"></div>

<script>
(function() {
  const responses = {{ responses | safe }};
  let current = 0;

  function showNext() {
    if (current < responses.length) {
      const container = document.getElementById('webchat_sequence_response');
      const tempDiv = document.createElement('div');
      tempDiv.innerHTML = responses[current];

      // Extract and move prompt-input if it exists
      const prompt = tempDiv.querySelector('#prompt-input');
      if (prompt) {
        const promptContainer = document.getElementById('prompt-input');
        promptContainer.innerHTML = prompt.innerHTML;
        prompt.remove(); // remove from sequence response
      }

      container.insertAdjacentHTML('beforeend', tempDiv.innerHTML);
      current++;
      setTimeout(showNext, 1000);
    }
  }

  showNext();
})();
</script>

